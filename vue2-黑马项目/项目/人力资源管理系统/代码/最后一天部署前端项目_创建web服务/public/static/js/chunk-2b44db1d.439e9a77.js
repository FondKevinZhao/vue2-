(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b44db1d"],{"066a":function(e,t,r){"use strict";r("a983")},"0ccb":function(e,t,r){var n=r("50c4"),a=r("1148"),s=r("1d80"),i=Math.ceil,o=function(e){return function(t,r,o){var c,l,u=String(s(t)),f=u.length,p=void 0===o?" ":String(o),d=n(r);return d<=f||""==p?u:(c=d-f,l=a.call(p,i(c/p.length)),l.length>c&&(l=l.slice(0,c)),e?u+l:l+u)}};e.exports={start:o(!1),end:o(!0)}},1148:function(e,t,r){"use strict";var n=r("a691"),a=r("1d80");e.exports="".repeat||function(e){var t=String(a(this)),r="",s=n(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},1276:function(e,t,r){"use strict";var n=r("d784"),a=r("44e7"),s=r("825a"),i=r("1d80"),o=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),f=r("9263"),p=r("d039"),d=[].push,m=Math.min,g=4294967295,h=!p((function(){return!RegExp(g,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(i(this)),s=void 0===r?g:r>>>0;if(0===s)return[];if(void 0===e)return[n];if(!a(e))return t.call(n,e,s);var o,c,l,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,h=new RegExp(e.source,p+"g");while(o=f.call(h,n)){if(c=h.lastIndex,c>m&&(u.push(n.slice(m,o.index)),o.length>1&&o.index<n.length&&d.apply(u,o.slice(1)),l=o[0].length,m=c,u.length>=s))break;h.lastIndex===o.index&&h.lastIndex++}return m===n.length?!l&&h.test("")||u.push(""):u.push(n.slice(m)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var a=i(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,a,r):n.call(String(a),t,r)},function(e,a){var i=r(n,e,this,a,n!==t);if(i.done)return i.value;var f=s(e),p=String(this),d=o(f,RegExp),b=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(h?"y":"g"),x=new d(h?f:"^(?:"+f.source+")",v),y=void 0===a?g:a>>>0;if(0===y)return[];if(0===p.length)return null===u(x,p)?[p]:[];var w=0,R=0,k=[];while(R<p.length){x.lastIndex=h?R:0;var I,E=u(x,h?p:p.slice(R));if(null===E||(I=m(l(x.lastIndex+(h?0:R)),p.length))===w)R=c(p,R,b);else{if(k.push(p.slice(w,R)),k.length===y)return k;for(var S=1;S<=E.length-1;S++)if(k.push(E[S]),k.length===y)return k;R=w=I}}return k.push(p.slice(w)),k}]}),!h)},"1d91":function(e,t,r){},"25f0":function(e,t,r){"use strict";var n=r("6eeb"),a=r("825a"),s=r("d039"),i=r("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=o;(u||f)&&n(RegExp.prototype,o,(function(){var e=a(this),t=String(e.source),r=e.flags,n=String(void 0===r&&e instanceof RegExp&&!("flags"in c)?i.call(e):r);return"/"+t+"/"+n}),{unsafe:!0})},"2c3e":function(e,t,r){var n=r("83ab"),a=r("9f7f").UNSUPPORTED_Y,s=r("9bf2").f,i=r("69f3").get,o=RegExp.prototype;n&&a&&s(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==o){if(this instanceof RegExp)return!!i(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},"4d63":function(e,t,r){var n=r("83ab"),a=r("da84"),s=r("94ca"),i=r("7156"),o=r("9bf2").f,c=r("241c").f,l=r("44e7"),u=r("ad6d"),f=r("9f7f"),p=r("6eeb"),d=r("d039"),m=r("69f3").set,g=r("2626"),h=r("b622"),b=h("match"),v=a.RegExp,x=v.prototype,y=/a/g,w=/a/g,R=new v(y)!==y,k=f.UNSUPPORTED_Y,I=n&&s("RegExp",!R||k||d((function(){return w[b]=!1,v(y)!=y||v(w)==w||"/a/i"!=v(y,"i")})));if(I){var E=function(e,t){var r,n=this instanceof E,a=l(e),s=void 0===t;if(!n&&a&&e.constructor===E&&s)return e;R?a&&!s&&(e=e.source):e instanceof E&&(s&&(t=u.call(e)),e=e.source),k&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var o=i(R?new v(e,t):v(e,t),n?this:x,E);return k&&r&&m(o,{sticky:r}),o},S=function(e){e in E||o(E,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},F=c(v),L=0;while(F.length>L)S(F[L++]);x.constructor=E,E.prototype=x,p(a,"RegExp",E)}g("RegExp")},"4d90":function(e,t,r){"use strict";var n=r("23e7"),a=r("0ccb").start,s=r("9a0c");n({target:"String",proto:!0,forced:s},{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),s="["+a+"]",i=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var s,i;return a&&"function"==typeof(s=t.constructor)&&s!==r&&n(i=s.prototype)&&i!==r.prototype&&a(e,i),e}},7424:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"setting-container"},[r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"box-card"},[r("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{staticClass:"tab-pane",attrs:{label:"角色管理",name:"first"}},[r("el-row",{staticStyle:{height:"60px"}},[r("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addRoleBtn}},[e._v("新增角色")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rolesList,border:""}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"120"}}),r("el-table-column",{attrs:{prop:"name",label:"角色名",width:"240"}}),r("el-table-column",{attrs:{prop:"description",label:"描述"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"success"},on:{click:function(r){return e.setRoles(t.row.id)}}},[e._v("分配权限")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(r){return e.editRoles(t.row.id)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(r){return e.delRoles(t.row.id)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.query.page,"page-sizes":[10,15,20,25],"page-size":e.query.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-tab-pane",{staticClass:"tab-pane",attrs:{label:"公司信息"}},[r("el-alert",{attrs:{title:"对公司名称、公司地址、营业执照、公司地区的更新，将使得公司资料被重新审核，请谨慎修改",type:"info","show-icon":"",closable:!1}}),r("el-form",{staticStyle:{"margin-top":"50px"},attrs:{model:e.formData,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"公司名称"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),r("el-form-item",{attrs:{label:"公司地址"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{disabled:""},model:{value:e.formData.companyAddress,callback:function(t){e.$set(e.formData,"companyAddress",t)},expression:"formData.companyAddress"}})],1),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{disabled:""},model:{value:e.formData.mailbox,callback:function(t){e.$set(e.formData,"mailbox",t)},expression:"formData.mailbox"}})],1),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:3,disabled:""},model:{value:e.formData.remarks,callback:function(t){e.$set(e.formData,"remarks",t)},expression:"formData.remarks"}})],1)],1)],1)],1)],1),r("el-dialog",{attrs:{title:e.isEdit?"编辑角色":"新增角色","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t},close:e.cancleAddRoles}},[r("el-form",{ref:"roleForm",attrs:{model:e.roleForm,rules:e.roleRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[r("el-input",{model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"description"}},[r("el-input",{model:{value:e.roleForm.description,callback:function(t){e.$set(e.roleForm,"description",t)},expression:"roleForm.description"}})],1)],1),r("el-row",{attrs:{slot:"footer",type:"flex",justify:"center"},slot:"footer"},[r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{size:"small"},on:{click:e.cancleRoles}},[e._v("取消")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.roleSubmit}},[e._v("确定")])],1)],1)],1),r("el-dialog",{attrs:{title:"分配权限",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("assign-permission",{attrs:{"role-ids-list":e.roleIdsList,"role-id":e.roleId,"permission-list":e.permissionList},on:{close:e.setVisible,confirmPer:e.confirmFn}})],1)],1)])},a=[],s=r("1da1"),i=r("5530"),o=(r("96cf"),r("365c")),c=r("2f62"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("el-tree",{ref:"tree",attrs:{data:e.permissionList,props:{label:"name"},"node-key":"id","show-checkbox":"","default-expand-all":"","check-strictly":""}})],1),r("el-row",{staticClass:"footer",attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{size:"small"},on:{click:e.cancelButton}},[e._v("取 消")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.setRolesBtn}},[e._v("确 定")])],1)],1)],1)},u=[],f=(r("a9e3"),{name:"AssignPermission",props:{permissionList:{type:Array,default:function(e){return[]}},roleId:{type:[Number,String],required:!0},roleIdsList:{type:Array,default:function(e){return[]}}},data:function(){return{}},watch:{roleIdsList:function(){this.$refs.tree.setCheckedKeys(this.roleIdsList)}},created:function(){console.log(this.roleId)},methods:{cancelButton:function(){this.$emit("close")},setRolesBtn:function(){var e=this.$refs.tree.getCheckedKeys();this.$emit("confirmPer",{id:this.roleId,permIds:e})}}}),p=f,d=(r("9da8"),r("2877")),m=Object(d["a"])(p,l,u,!1,null,"4afb1a7c",null),g=m.exports,h=r("ed08"),b={name:"Setting",components:{AssignPermission:g},data:function(){return{activeName:"first",query:{page:1,pagesize:10},rolesList:[],total:0,formData:{},showDialog:!1,roleForm:{name:"",description:""},roleRules:{name:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],description:[{required:!0,message:"角色描述不能为空",trigger:"blur"}]},isEdit:!1,dialogVisible:!1,roleId:0,permissionList:[],roleIdsList:[]}},computed:Object(i["a"])({},Object(c["c"])(["companyId"])),created:function(){this.getRolesList(),this.getCompanyInfo(),this.getPermissionListFn()},methods:{getRolesList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["s"])(e.query);case 2:if(r=t.sent,r.success){t.next=5;break}return t.abrupt("return",e.$message.error(r.message));case 5:e.rolesList=r.data.rows,e.total=r.data.total;case 7:case"end":return t.stop()}}),t)})))()},getCompanyInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["l"])(e.companyId);case 2:if(r=t.sent,r.success){t.next=5;break}return t.abrupt("return",e.$message.error(r.message));case 5:e.formData=r.data;case 6:case"end":return t.stop()}}),t)})))()},addRoleBtn:function(){this.isEdit=!1,this.showDialog=!0},cancleAddRoles:function(){this.roleForm={name:"",description:""},this.$refs.roleForm.resetFields(),this.showDialog=!1},roleSubmit:function(){var e=this;this.$refs.roleForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=18;break}if(e.isEdit){t.next=10;break}return t.next=4,Object(o["d"])(e.roleForm);case 4:if(n=t.sent,n.success){t.next=7;break}return t.abrupt("return",e.$message.error(n.message));case 7:e.$message.success(n.message),t.next=16;break;case 10:return t.next=12,Object(o["B"])(e.roleForm);case 12:if(a=t.sent,a.success){t.next=15;break}return t.abrupt("return",e.$message.error(a.message));case 15:e.$message.success(a.message);case 16:e.getRolesList(),e.showDialog=!1;case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cancleRoles:function(){this.showDialog=!1},handleSizeChange:function(e){this.query.pagesize=e,this.getRolesList()},handleCurrentChange:function(e){this.query.page=e,this.getRolesList()},setRoles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.roleIdsList=[],t.dialogVisible=!0,t.roleId=e,r.next=5,Object(o["r"])(e);case 5:n=r.sent,t.roleIdsList=n.data.permIds;case 7:case"end":return r.stop()}}),r)})))()},setVisible:function(){this.dialogVisible=!1},confirmFn:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["e"])(e);case 2:n=r.sent,n.success&&t.$message.success(n.message),t.dialogVisible=!1,t.getRolesList();case 6:case"end":return r.stop()}}),r)})))()},editRoles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isEdit=!0,r.next=3,Object(o["r"])(e);case 3:if(n=r.sent,n.success){r.next=6;break}return r.abrupt("return",t.$message.error(n.message));case 6:t.roleForm=n.data,t.showDialog=!0;case 8:case"end":return r.stop()}}),r)})))()},delRoles:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return 1===t.rolesList.length&&(t.query.page--,t.query.page<=0&&(t.query.page=1)),r.next=3,t.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 3:if(n=r.sent,"cancel"!==n){r.next=6;break}return r.abrupt("return",t.$message.info("您取消了删除"));case 6:return r.next=8,Object(o["j"])(e);case 8:if(a=r.sent,a.success){r.next=11;break}return r.abrupt("return",t.$message.error(a.message));case 11:t.$message.success(a.message),t.getRolesList();case 13:case"end":return r.stop()}}),r)})))()},getPermissionListFn:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["q"])();case 2:r=t.sent,e.permissionList=Object(h["b"])(r.data,"0");case 4:case"end":return t.stop()}}),t)})))()}}},v=b,x=(r("066a"),Object(d["a"])(v,n,a,!1,null,"0f96931e",null));t["default"]=x.exports},"9a0c":function(e,t,r){var n=r("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"9da8":function(e,t,r){"use strict";r("1d91")},a983:function(e,t,r){},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),s=r("94ca"),i=r("6eeb"),o=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),f=r("d039"),p=r("7c73"),d=r("241c").f,m=r("06cf").f,g=r("9bf2").f,h=r("58a8").trim,b="Number",v=a[b],x=v.prototype,y=c(p(x))==b,w=function(e){var t,r,n,a,s,i,o,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=h(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(s=l.slice(2),i=s.length,o=0;o<i;o++)if(c=s.charCodeAt(o),c<48||c>a)return NaN;return parseInt(s,n)}return+l};if(s(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var R,k=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof k&&(y?f((function(){x.valueOf.call(r)})):c(r)!=b)?l(new v(w(t)),r,k):w(t)},I=n?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;I.length>E;E++)o(v,R=I[E])&&!o(k,R)&&g(k,R,m(v,R));k.prototype=x,x.constructor=k,i(a,b,k)}},ed08:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");r("ac1f"),r("00b4"),r("5319"),r("4d63"),r("2c3e"),r("25f0"),r("4d90"),r("1276"),r("159b");function n(e,t){var r=[];return e.forEach((function(a){if(a.pid===t){var s=n(e,a.id);s.length&&(a.children=s),r.push(a)}})),r}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=new Date(24*(e-25567)*36e5-3e5-43e3-864e5-288e5);r.setYear(r.getFullYear());var n=r.getFullYear()+"",a=r.getMonth()+1+"",s=r.getDate()+"";return t&&1===t.length?n+t+a+t+s:n+(a<10?"0"+a:a)+(s<10?"0"+s:s)}}}]);